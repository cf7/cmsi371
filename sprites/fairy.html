<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <title>Fairy!</title>
 </head>
 <body>
    <canvas id="canvas" width="1024" height="1024">
        Browser does not support the <code>canvas</code> element.
    </canvas>

    <script src="https://code.jquery.com/jquery-1.11.3.js"></script>
    <script src="fairy.js"></script>

    <script>
        (function () {
            var ctx = $("#canvas")[0].getContext("2d");
            var skyColor = "rgb(100, 175, 255)";
            var groundColor = "green";
            var backGround = function () {
                ctx.save();
                ctx.fillStyle = skyColor;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = groundColor;
                ctx.fillRect(0, canvas.height*0.5, canvas.width, canvas.height/2);
                ctx.restore();
            }

            var drawScene = function () {
                backGround();
                var innerRadius = 10;
                var outerRadius = 50;
                var direction = { forward: true, left: false, right: false };

                ctx.save();
                ctx.translate(200, 400);
                SpriteLibrary.fairy({
                    context: ctx,
                    //setting: backGround,
                    fairyData: {
                        center: { x: 200, y: 400 },
                        innerRadius: 10, // properties.data.innerRadius,
                        beforeRadius: 10, // properties.data.beforeRadius,
                        outerRadius: 50,
                        innerColor: "white",
                        outerColor: "rgb(137, 255, 249)",
                        glowIncrement: true,
                        up: true
                    },
                    fairyWings: {
                        startPoint: { x: 0, y: 0 },
                        controlPoint1: { x: outerRadius, y: -outerRadius - 40 },
                        controlPoint2: { x: outerRadius + 30, y: -outerRadius},
                        endPoint: { x: outerRadius - 10, y: 0 },
                        direction: {forward: true, left: false, right: false },
                        color: "rgba(200, 200, 200, 0.5)",
                        wingsInward: true,
                        beforeX: outerRadius + 10,
                        flutterSpeed: 4 // properties.data.fairyWings.flutterSpeed
                    }
                });
                ctx.restore();
                // window.requestAnimationFrame(drawScene);
            };
            window.requestAnimationFrame(drawScene);
        })();
    </script>
 </body>
</html>